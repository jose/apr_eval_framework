--- src/main/java/org/jsoup/nodes/Node.java	2024-07-18 04:09:59.678418224 -0700
+++ src/main/java/org/jsoup/nodes/Node.java	2024-07-18 04:10:01.232481924 -0700
@@ -360,10 +360,13 @@
     }
 
     protected void outerHtml(StringBuilder accum) {
-        new NodeTraversor(new OuterHtmlVisitor(accum, ownerDocument().outputSettings())).traverse(this);
+        new NodeTraversor(new OuterHtmlVisitor(accum, getOutputSettings())).traverse(this);
     }
 
     // if this node has no document (or parent), retrieve the default output settings
+    private Document.OutputSettings getOutputSettings() {
+        return ownerDocument() != null ? ownerDocument().outputSettings() : (new Document("")).outputSettings();
+    }
 
     /**
      Get the outer HTML of this node.
